/* ============================================================================
   IMPORTS
   ========================================================================= */

@import 'tailwindcss';
@import './typography.css';
@import './animations.css';

/* ============================================================================
   HERO UI CONFIGURATION
   Configures the Hero UI component library plugin and theme sources
   ========================================================================= */

@plugin '../utils/hero.ts';
@source '/node_modules/@heroui/theme/dist/**/*.{js,ts,jsx,tsx}';

/* ============================================================================
   CUSTOM VARIANTS
   ========================================================================= */

/* Dark mode variant for nested dark theme contexts */
@custom-variant dark (&:is(.dark *));

/* Landscape: Applies to landscape orientation OR devices >= 1024px */
@custom-variant landscape {
  @media (orientation: landscape), (min-width: 1024px) {
    @slot;
  }
}

/* Portrait: Applies to portrait orientation on devices < 1024px */
@custom-variant portrait {
  @media (orientation: portrait) and (max-width: 1023.98px) {
    @slot;
  }
}

/* Framed: Applies to devices with sufficient width and height for frame view */
@custom-variant framed {
  @media (min-width: 768px) and (min-height: 999px) {
    @slot;
  }
}

/* ============================================================================
   DESIGN TOKENS - COLORS, FONTS & BASE SIZES
   ========================================================================= */

@theme {
  /* Color Palette */
  --color-charcoal: #333336;
  --color-dark-charcoal: #07070f;
  --color-foreground: #11181c;
  --color-common-ash: #f8f6f4;
  --color-common-teal: #329971;
  --color-secondary-blue: #00a6f9;
  --color-secondary-purple: #754fe0;
  --color-secondary-gray: #d4d4d8;
  --color-accent: #53ffbc;

  /* Typography */
  --font-sharp-sans: 'Sharp Sans', sans-serif;
  --font-size-xs10: 0.714rem;
}

/* ============================================================================
   LAYOUT TOKENS - CONTAINER & FRAME DIMENSIONS
   Inline theme variables for responsive container and frame sizing
   ========================================================================= */

@theme inline {
  /* Container widths for main content area */
  --container-width-landscape: 82.0625rem; /* 1313px */
  --container-width-portrait: 22.375rem;   /* 358px */

  /* Frame dimensions maintain 390:844 aspect ratio (iPhone 14 Pro)
     Uses min() to prevent overflow while maintaining aspect ratio */
  --frame-height: min(100dvh, 216.41dvw);
  --frame-width: min(100dvw, 46.21dvh);
}

/* ============================================================================
   COMPONENT LAYER - REUSABLE COMPONENT STYLES
   ========================================================================= */

@layer components {
  /* Main site container with responsive padding and max-width */
  .site-container {
    @apply flex flex-col w-full max-w-[var(--container-width-portrait)] mx-auto py-4 min-h-dvh;
    @variant landscape {
      @apply max-w-[var(--container-width-landscape)] py-20;
    }
  }

  /* Site footer with nebula background image */
  .site-footer {
    @apply relative p-4 landscape:p-8 bg-[url('/assets/images/nebula.webp')] bg-right bg-no-repeat bg-cover mb-3 border-[0.125rem] border-common-ash rounded-xl;
  }

  /* Primary CTA button - filled with accent color */
  .primary-button {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-3xl border-2 bg-accent border-accent text-charcoal font-bold hover:bg-transparent hover:text-accent transition-colors duration-300 cursor-pointer;
  }

  /* Secondary CTA button - outlined with accent color */
  .secondary-button {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-3xl border-2 border-accent text-accent font-bold hover:bg-accent hover:text-charcoal transition-colors duration-300 cursor-pointer;
  }
}

/* ============================================================================
   UTILITY CLASSES
   ========================================================================= */

/* Hide scrollbars while maintaining scroll functionality */
@utility hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
  &::-webkit-scrollbar {
    display: none;
  }
}

/* Apply responsive frame dimensions */
@utility frame-size {
  height: var(--frame-height);
  width: var(--frame-width);
}

/* ============================================================================
   GAME FRAME CONTAINER
   Mobile-first frame that maintains iPhone aspect ratio across devices
   ========================================================================= */

.frame {
  @apply frame-size;
  aspect-ratio: 390/844;

  /* On larger screens, use viewport-based sizing for better control */
  @variant framed {
    height: 84.4dvh;
    width: 39dvh;
  }
}

/* ============================================================================
   GLOBAL STYLES
   ========================================================================= */

html {
  /* Prevent overscroll bounce effect on mobile */
  overscroll-behavior: none;
}

body {
  @apply antialiased bg-no-repeat bg-cover bg-top bg-[url(/assets/images/bg.webp)] bg-[#2B2B2F] font-sharp-sans text-common-ash font-semibold;
}

/* Utility for 3D transforms and animations */
.backface-hidden {
  backface-visibility: hidden;
}
